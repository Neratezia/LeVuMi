var chart<%=test%> = c3.generate({
    bindto: '#chart<%=test%>',
    data: {
        x: 'x',
        columns: [
            ['x',
                <% results.each do |r| %>
                '<%= r.measurement.date.to_date %>',
                <% end %>
            ],
            ['<%= student.name %>',
                <% results.each do |r| %>
                <% unless r.nil? %>
                <%= r.score.nil? ? "null" : r.score %>
                <% else %>
                null
                <% end %>,
                <% end %>
            ],
        ]
    },
    axis: {
        x: {
            type: 'timeseries',
            tick: {
                fit: true,
                format: "%e %b %y"
            },
            label: {
                text: 'Testzeitpunkte',
                position: 'outer-left'
            }
        },
        y: {
            label: {
                text: 'Anzahl richtiger Items',
                position: 'outer-middle'
            }
        }
    },
    line: {
        connectNull: true
    },
    legend: {
        hide: true
    }
});
